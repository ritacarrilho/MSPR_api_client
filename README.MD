## Kawa Products API 

## Participants üë•
- BILLARD M√©lissa
- BRACCIALES-COMBAS Lola
- CARRILHO LAMEIRA Rita
- DIAGNE Sokhna

## Technologie 
- Api en [FastApi](https://fastapi.tiangolo.com/)

## Base de donn√©es
- [MySQL](https://www.mysql.com/fr/)

**Nom BDD** : ``customer_db``

### Cr√©ation de la base de donn√©e
```python
## De la racine
py database/scripts/create_BDD.py
```
![](/assets/create_bdd-2.png)

### Mock initial
```
https://615f5fb4f7254d0017068109.mockapi.io/api/v1/customers
```
*Liste de donn√©es de tous les clients.*

![](./assets/mock_client.png)

### Mod√®le Conceptuel de Donn√©es (MCD)
![](./assets/BDD_client-2.png)

#### Mod√®le Logique de Donn√©es (MLD)
![](./assets/mld-2.png)


### D√©tails tables

#### Table ``customers``

id (INT, cl√© primaire) : Identifiant unique du client.

created_at (DATETIME) : Date de cr√©ation du client.

name (VARCHAR) : Nom complet du client.

username (VARCHAR) : Nom d'utilisateur du client.

first_name (VARCHAR) : Pr√©nom du client.

last_name (VARCHAR) : Nom de famille du client.

postal_code (VARCHAR) : Code postal de l'adresse.

city (VARCHAR) : Ville de l'adresse.

#### Table ``profiles``

id (INT, cl√© primaire) : Identifiant unique du profil.

customer_id (INT, cl√© √©trang√®re) : R√©f√©rence √† l'identifiant du client.

first_name (VARCHAR) : Pr√©nom du profil.

last_name (VARCHAR) : Nom de famille du profil.

#### Table ``companies``

id (INT, cl√© primaire) : Identifiant unique de l'entreprise.

customer_id (INT, cl√© √©trang√®re) : R√©f√©rence √† l'identifiant du client.

company_name (VARCHAR) : Nom de l'entreprise.

#### Table ``orders``

id (INT, cl√© primaire) : Identifiant unique de la commande.

customer_id (INT, cl√© √©trang√®re) : R√©f√©rence √† l'identifiant du client.

created_at (DATETIME) : Date de cr√©ation de la commande.

## Endpoints de l'API
![](/assets/api-endpoint.png)

## Docker

1) Build container : ```docker-compose build```

2) Start container : ```docker-compose up```

## Commandes utiles
### Lancer l'api en local
```python
# Dans le fichier app
fastapi dev main.py
# ou
# √Ä la racine
 uvicorn app.main:app --reload
```
### Effacer fichiers DS_Store
```java
find . -name .DS_Store -print0 | xargs -0 git rm -f --ignore-unmatch
```
